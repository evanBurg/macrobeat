!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).ytSearch=e()}}(function(){return function i(a,l,u){function s(t,e){if(!l[t]){if(!a[t]){var r="function"==typeof require&&require;if(!e&&r)return r(t,!0);if(f)return f(t,!0);var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}var o=l[t]={exports:{}};a[t][0].call(o.exports,function(e){return s(a[t][1][e]||e)},o,o.exports,i,a,l,u)}return l[t].exports}for(var f="function"==typeof require&&require,e=0;e<u.length;e++)s(u[e]);return s}({1:[function(e,t,r){"use strict";var n,j=e("cheerio"),u=e("dasu"),s=e("async.parallel"),f=e("url"),c=e("querystring"),p="https://www.youtube.com/results?hl=en&gl=US&category=music&search_query=",o={pageStart:1,pageEnd:3};function i(i,a){var l=Object.assign({},o);if(!i)return a(new Error("No query given."));l="string"==typeof i?Object.assign(l,{query:i}):Object.assign(l,i),i=l.query||l.search,function(){for(var e=c.escape(i).split(/\s+/),n=p+e.join("+"),r=[],t=function(e){var t=e;r.push(function(r){!function(e,t,n){e+="&page="+t;var r=f.parse(e);u.req(r,function(e,t,r){e?n(e):function(e,t){for(var r=j.load(e),n=r(".yt-lockup-content"),o=[],i=0;i<n.length;i++){var a=n[i],l=r(".yt-lockup-title",a),u=r("a",l),s=r("span",l),f=E(s.text()),c=u.attr("href")||"",p=c.split("=")[1],d=r(".yt-lockup-meta-info",a),h=r("li",d),g=r(h[0]).text(),v=r(h[1]).text(),y=Number(v.split(" ")[0].split(",").join("").trim()),m=r('a[href^="/user/"]',a),x=(m.attr("href")||"").replace("/user/",""),w=m.text(),b=r('a[href^="/channel/"]',a),q=(b.attr("href")||"").replace("/channel/",""),O=b.text(),N={title:u.text(),url:c,videoId:p,seconds:Number(f.seconds),timestamp:f.timestamp,duration:f,ago:g,views:Number(y),author:{name:w||O,id:x||q,url:m.attr("href")||b.attr("href"),userId:x,userName:w,userUrl:m.attr("href")||"",channelId:q,channelName:O,channelUrl:b.attr("href")||""}};o.push(N)}t(null,o)}(r,n)})}(n,t,function(e,t){e?r(e):r(null,t)})})},o=l.pageStart;o<l.pageEnd;o++)t(o);s(r,function(e,t){if(e)a(e);else{var r=(t=[].concat.apply([],t)).filter(d),n=t.filter(h),o=t.filter(g);a(null,{videos:r,playlists:n,accounts:o})}})}()}function d(e){return 0<=e.url.indexOf("watch")&&-1===e.url.indexOf("&list")&&-1===e.url.indexOf("&user")}function h(e){return 0<=e.url.indexOf("list")}function g(e){return 0<=e.url.indexOf("user")}function E(e){for(var t=e.split(" "),r=t[t.length-1].replace(/[^:\d]/g,""),n=r.split(":"),o=0,i=0,a=n.length-1;0<=a;a--)if(!(n[a].length<=0)){var l=n[a].replace(/\D/g,"");if(o+=parseInt(l)*(0<i?Math.pow(60,i):1),2<++i)break}return{toString:function(){return o+" seconds ("+r+")"},seconds:o,timestamp:r}}t.exports=function(e,t){i(e,t)},t.exports.search=i,e.main===t&&(n="superman theme",console.log("doing list search"),i(n,function(e,t){if(e)throw e;var r=t.videos,n=t.playlists,o=t.accounts;console.log("videos: "+r.length),console.log("playlists: "+n.length),console.log("accounts: "+o.length);for(var i=0;i<3;i++){var a=r[i],l=" ("+a.timestamp+")";console.log(a.title+l)}}))},{"async.parallel":void 0,cheerio:void 0,dasu:void 0,querystring:void 0,url:void 0}]},{},[1])(1)});